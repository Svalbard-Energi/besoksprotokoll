import{B as q,w as E,C as L,D as S,q as B,F as v,G as w,I as M,J as g,K as p,L as x,M as A,N as C,h as D}from"./Cs_YjP16.js";function G(e){let r=0,n=L(0),a;return()=>{q()&&(E(n),S(()=>(r===0&&(a=B(()=>e(()=>v(n)))),r+=1,()=>{w(()=>{r-=1,r===0&&(a?.(),a=void 0,v(n))})})))}}const N=new Set,O=new Set;function I(e){if(!D)return;e.removeAttribute("onload"),e.removeAttribute("onerror");const r=e.__e;r!==void 0&&(e.__e=void 0,queueMicrotask(()=>{e.isConnected&&e.dispatchEvent(r)}))}function T(e,r,n,a={}){function i(t){if(a.capture||W.call(r,t),!t.cancelBubble)return C(()=>n?.call(this,t))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?w(()=>{r.addEventListener(e,i,a)}):r.addEventListener(e,i,a),i}function J(e,r,n,a={}){var i=T(r,e,n,a);return()=>{e.removeEventListener(r,i,a)}}function K(e){for(var r=0;r<e.length;r++)N.add(e[r]);for(var n of O)n(e)}let b=null;function W(e){var r=this,n=r.ownerDocument,a=e.type,i=e.composedPath?.()||[],t=i[0]||e.target;b=e;var f=0,l=b===e&&e.__root;if(l){var u=i.indexOf(l);if(u!==-1&&(r===document||r===window)){e.__root=r;return}var _=i.indexOf(r);if(_===-1)return;u<=_&&(f=u)}if(t=i[f]||e.target,t!==r){M(e,"currentTarget",{configurable:!0,get(){return t||n}});var k=x,y=A;g(null),p(null);try{for(var c,d=[];t!==null;){var o=t.assignedSlot||t.parentNode||t.host||null;try{var h=t["__"+a];h!=null&&(!t.disabled||e.target===t)&&h.call(t,e)}catch(s){c?d.push(s):c=s}if(e.cancelBubble||o===r||o===null)break;t=o}if(c){for(let s of d)queueMicrotask(()=>{throw s});throw c}}finally{e.__root=r,delete e.currentTarget,g(k),p(y)}}}export{N as a,T as b,G as c,K as d,I as e,W as h,J as o,O as r};
